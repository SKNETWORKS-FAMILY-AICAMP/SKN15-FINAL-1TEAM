:root {
  --bg: #0f172a;
  --panel: #111827;
  --accent: #3b82f6;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --bubble-user: #2563eb;
  --bubble-bot: #374151;
}

/* 라이트 테마 */
body.light-theme {
  --bg: #f3f4f6;
  --panel: #f3f4f6;
  --accent: #2563eb;
  --text: #1f2937;
  --muted: #6b7280;
  --bubble-user: #3b82f6;
  --bubble-bot: #e5e7eb;
}

* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  display: flex;
  flex-direction: column;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  overflow: hidden; /* 전체 스크롤바 제거 */
}

/* 헤더 */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: var(--panel);
  border-bottom: 1px solid #1f2937;
}
.title { font-weight: 600; }
.status { color: var(--muted); font-size: 12px; }

/* 히스토리 팝업 */
.history-popup {
  position: absolute;
  max-height: 400px; /* 팝업 최대 높이 제한 */
  overflow-y: auto;  /* 내부 스크롤 가능하게 */
  top: 50px;
  right: 12px;
  background: var(--panel);
  border: 1px solid #374151;
  border-radius: 8px;
  padding: 10px;
  z-index: 100;
  width: 200px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.popup-header {
  font-weight: bold;
  margin-bottom: 8px;
  color: var(--text);
}

.history-list button {
  display: block;
  width: 100%;
  background: transparent;
  border: none;
  color: var(--text);
  text-align: left;
  padding: 6px 8px;
  border-radius: 4px;
  cursor: pointer;
}

.history-list button:hover {
  background: var(--bubble-bot);
}
#historyList::-webkit-scrollbar {
  width: 6px;
}
#historyList::-webkit-scrollbar-track {
  background: transparent;
}
#historyList::-webkit-scrollbar-thumb {
  background-color: var(--muted);
  border-radius: 4px;
}



/* -----------채팅 영역----------- */
.chat {
  flex: 1;
  overflow-y: auto;
  padding: 12px;
}
.messages {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* PDF 업로드 버튼 (작고 심플하게) */
#uploadPdfBtn {
  padding: 6px 8px;
  font-size: 18px;
  background: transparent;
  color: var(--text);
  border: none;
  cursor: pointer;
}
#uploadPdfBtn:hover {
  background: var(--bubble-bot);
  border-radius: 6px;
}

/* 메시지 버블 */
.msg {
  max-width: 85%;
  padding: 10px 12px;
  border-radius: 10px;
  line-height: 1.4;
  white-space: pre-wrap;
  word-break: break-word;
}
.msg.user {
  align-self: flex-end;
  background: var(--bubble-user);
  color: #fff;
}
.msg.bot {
  align-self: flex-start;
  background: var(--bubble-bot);
  color: var(--text);
}

/* "생성중..." 말풍선 스타일 */
.msg.loading {
  font-size: 13px;
  font-style: italic;
  opacity: 0.7;
}



/* 입력창 + pdf 첨부 버튼 */
.input-wrapper {
  display: flex;
  align-items: center;
  background: #0b1220;
  border: 1px solid #374151;
  border-radius: 8px;
  padding: 6px 12px;
  gap: 8px; /* 입력창과 버튼 사이 간격 */
}
#prompt {
  flex: 1;
  resize: none;
  border: none;
  background: transparent;
  color: var(--text);
  font-size: 14px;
  line-height: 1.4;
  max-height: 180px;
  overflow-y: auto;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
#uploadPdfBtn {
  background: transparent;
  border: none;
  color: var(--muted);
  font-size: 18px;
  cursor: pointer;
}
#uploadPdfBtn:hover {
  background: var(--bubble-bot);
  border-radius: 6px;
}
body.light-theme .input-wrapper {
  background: #ffffff;
  border: 1px solid #d1d5db;
}
body.light-theme #prompt {
  color: var(--text);
}
body.light-theme #uploadPdfBtn {
  color: var(--muted);
}
#prompt::-webkit-scrollbar {
  width: 6px;
}
#prompt::-webkit-scrollbar-track {
  background: transparent; /* 스크롤바 배경 제거 */
}
#prompt::-webkit-scrollbar-thumb {
  background-color: var(--muted); /* 테마 색상 자동 적용 */
  border-radius: 4px;
}


/* 툴바 버튼 */
.toolbar {
  display: flex;
  gap: 6px;
}
.toolbar button {
  /* background: #444; */
  background: transparent;
  border: none;
  color: white;
  padding: 4px 6px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}
.toolbar button:hover {
  color: var(--accent);
}

body.light-theme .toolbar button {
  /* background: #e5e7eb; */
  background: transparent;
  color: #111827;
}
body.light-theme .toolbar button:hover {
  color: var(--accent);
}

/* 채팅 재시작 버튼*/
#resetChatBtn {
  background: transparent;
  color: var(--muted);
  border: none;
  font-size: 16px;
  cursor: pointer;
}
#resetChatBtn:hover {
  color: var(--accent);
}


/* 스크롤바 스타일 (Chrome, Edge, Safari) */
.chat::-webkit-scrollbar {
  width: 8px;
}
.chat::-webkit-scrollbar-track {
  background: transparent; /* 배경 제거 */
}
.chat::-webkit-scrollbar-thumb {
  background-color: var(--muted); /* 테마에 맞는 색상 */
  border-radius: 4px;
}


/* 히스토리 */
.history-item {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
}

.history-item input[type="checkbox"] {
  margin: 0;
}

.history-item button {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text);
  text-align: left;
  padding: 6px 8px;
  border-radius: 4px;
  cursor: pointer;
}
.history-item button:hover {
  background: var(--bubble-bot);
}

.history-actions {
  margin-top: 10px;
  display: flex;  
  gap: 8px;
  justify-content: flex-end;
}

.history-actions button {
  background: var(--bubble-bot);
  border: none;
  color: var(--text);
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}
.history-actions button:hover {
  background: var(--accent);
}

